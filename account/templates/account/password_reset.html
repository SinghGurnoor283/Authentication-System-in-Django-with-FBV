{% extends "account/base.html" %}

{% block title %}Password Reset{% endblock title %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-5">
        <div class="card shadow-sm p-4">
            <h3 class="mb-4 text-center">Reset Password</h3>

            <form id="reset-password-form" method="POST">
                {% csrf_token %}
                
                <!-- Email field -->
                <div class="mb-3">
                    <label for="id_email" class="form-label">Enter your registered email</label>
                    <input type="email" value="{{ form.email.value|default_if_none:'' }}" name="email" id="id_email" class="form-control" required>
                </div>

                <!-- Submit -->
                <div class="d-grid mb-3">
                    <button type="submit" id="submit-btn" class="btn btn-primary">Send Reset Link</button>
                </div>
            </form>

            <!-- Extra link -->
            <div class="text-center">
                <p>Remembered your password? <a href="{% url 'login' %}">Login here</a></p>
            </div>
        </div>
    </div>
</div>

<!-- Script to disable button after submit -->
<script>
    // Get references to the form and the submit button
    const form = document.getElementById('reset-password-form');
    const submitBtn = document.getElementById('submit-btn');

    // Add event listener for form submission
    form.addEventListener('submit', function(event) {
        // Disable the button when the form is submitted
        submitBtn.disabled = true;
        submitBtn.innerText = 'Sending...'; // Optional: Change button text to indicate action
    });
</script>
{% endblock content %}
